(window["wpshopifyComponents"] = window["wpshopifyComponents"] || []).push([["ProductOptionDropdown"],{

/***/ "./components/products/product/buy-button/option/dropdown/index.jsx":
/*!**************************************************************************!*\
  !*** ./components/products/product/buy-button/option/dropdown/index.jsx ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _variants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../variants */ \"./components/products/product/buy-button/option/variants/index.jsx\");\n/* harmony import */ var _state_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_state/context */ \"./components/products/product/buy-button/_state/context.js\");\n/* harmony import */ var _state_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_state/context */ \"./components/products/product/_state/context.js\");\n/* harmony import */ var _state_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../_state/context */ \"./components/products/product/buy-button/option/_state/context.js\");\n/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/find */ \"./node_modules/lodash/find.js\");\n/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/isEmpty */ \"./node_modules/lodash/isEmpty.js\");\n/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _tippy_js_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @tippy.js/react */ \"./node_modules/@tippy.js/react/esm/index.js\");\n\n\n\n\n\n // import { ProductOptionTrigger } from '../trigger'\n\n\n\n\nvar ProductOptionTrigger = react__WEBPACK_IMPORTED_MODULE_1___default.a.lazy(function () {\n  return __webpack_require__.e(/*! import() | ProductOptionTrigger */ \"ProductOptionTrigger\").then(__webpack_require__.bind(null, /*! ../trigger */ \"./components/products/product/buy-button/option/trigger/index.jsx\"));\n});\n\nfunction ProductOptionDropdown() {\n  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useContext\"])(_state_context__WEBPACK_IMPORTED_MODULE_3__[\"ProductBuyButtonContext\"]),\n      _useContext2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useContext, 2),\n      buyButtonState = _useContext2[0],\n      buyButtonDispatch = _useContext2[1];\n\n  var _useContext3 = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useContext\"])(_state_context__WEBPACK_IMPORTED_MODULE_5__[\"ProductOptionContext\"]),\n      _useContext4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useContext3, 2),\n      productOptionState = _useContext4[0],\n      productOptionDispatch = _useContext4[1];\n\n  var _useContext5 = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useContext\"])(_state_context__WEBPACK_IMPORTED_MODULE_4__[\"ProductContext\"]),\n      _useContext6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useContext5, 1),\n      productState = _useContext6[0];\n\n  var isFirstRender = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useRef\"])(true); // When buyButtonState.availableVariants changes ...\n\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n\n    var optionIsAvailable = lodash_find__WEBPACK_IMPORTED_MODULE_6___default()(buyButtonState.availableVariants, productOptionState.selectedOption);\n\n    if (optionIsAvailable === undefined) {\n      productOptionDispatch({\n        type: 'SET_IS_OPTION_SELECTED',\n        payload: false\n      });\n      buyButtonDispatch({\n        type: 'UNSET_SELECTED_OPTIONS',\n        payload: productOptionState.option.name\n      });\n    }\n  }, [buyButtonState.availableVariants]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n\n    if (lodash_isEmpty__WEBPACK_IMPORTED_MODULE_7___default()(buyButtonState.selectedOptions)) {\n      productOptionDispatch({\n        type: 'SET_IS_OPTION_SELECTED',\n        payload: false\n      });\n    }\n  }, [buyButtonState.selectedOptions]);\n  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"row\"\n  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"wps-btn-dropdown\",\n    \"data-wps-is-selected\": productOptionState.isOptionSelected,\n    ref: productOptionState.dropdownElement\n  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_tippy_js_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    visible: productOptionState.isDropdownOpen,\n    animateFill: false,\n    placement: \"bottom\",\n    allowHTML: true,\n    appendTo: \"parent\",\n    animation: \"shift-away\",\n    flip: false,\n    theme: \"light\",\n    interactive: true,\n    inertia: true,\n    delay: [0, 0],\n    content: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_variants__WEBPACK_IMPORTED_MODULE_2__[\"ProductVariants\"], null)\n  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ProductOptionTrigger, null)))));\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProductOptionDropdown);\n\n//# sourceURL=webpack://wpshopifyComponents/./components/products/product/buy-button/option/dropdown/index.jsx?");

/***/ }),

/***/ "./components/products/product/buy-button/option/variants/index.jsx":
/*!**************************************************************************!*\
  !*** ./components/products/product/buy-button/option/variants/index.jsx ***!
  \**************************************************************************/
/*! exports provided: ProductVariants */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProductVariants\", function() { return ProductVariants; });\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _variant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./variant */ \"./components/products/product/buy-button/option/variants/variant/index.jsx\");\n/* harmony import */ var _state_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_state/context */ \"./components/products/product/buy-button/_state/context.js\");\n/* harmony import */ var _state_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_state/context */ \"./components/products/product/buy-button/option/_state/context.js\");\n/* harmony import */ var _state_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_state/context */ \"./components/products/product/_state/context.js\");\n/* harmony import */ var _common_hooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../common/hooks */ \"./common/hooks/index.js\");\n\n\n\n\n\n\n\n\nfunction ProductVariants() {\n  var isFirstRender = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useRef\"])(true);\n\n  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useContext\"])(_state_context__WEBPACK_IMPORTED_MODULE_3__[\"ProductBuyButtonContext\"]),\n      _useContext2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useContext, 2),\n      buyButtonState = _useContext2[0],\n      buyButtonDispatch = _useContext2[1];\n\n  var _useContext3 = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useContext\"])(_state_context__WEBPACK_IMPORTED_MODULE_4__[\"ProductOptionContext\"]),\n      _useContext4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useContext3, 2),\n      productOptionState = _useContext4[0],\n      productOptionDispatch = _useContext4[1];\n\n  var _useContext5 = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useContext\"])(_state_context__WEBPACK_IMPORTED_MODULE_5__[\"ProductContext\"]),\n      _useContext6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useContext5, 2),\n      productState = _useContext6[0],\n      productDispatch = _useContext6[1];\n\n  function isDropdownOpen() {\n    return productOptionState.isDropdownOpen;\n  }\n\n  Object(_common_hooks__WEBPACK_IMPORTED_MODULE_6__[\"useOnClickOutside\"])(productOptionState.dropdownElement, function () {\n    productDispatch({\n      type: 'TOGGLE_DROPDOWN',\n      payload: false\n    });\n    productOptionDispatch({\n      type: 'TOGGLE_DROPDOWN',\n      payload: false\n    });\n  }, isDropdownOpen);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n\n    buyButtonDispatch({\n      type: 'SET_AVAILABLE_VARIANTS',\n      payload: productOptionState.selectedOption\n    });\n  }, [productOptionState.selectedOption]);\n  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"ul\", {\n    className: \"wps-modal wps-variants\",\n    \"data-wps-modal-is-open\": productOptionState.isDropdownOpen\n  }, productOptionState.option.values.map(function (optionValue) {\n    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_variant__WEBPACK_IMPORTED_MODULE_2__[\"ProductVariant\"], {\n      key: optionValue.value,\n      variant: optionValue\n    });\n  }));\n}\n\n\n\n//# sourceURL=webpack://wpshopifyComponents/./components/products/product/buy-button/option/variants/index.jsx?");

/***/ }),

/***/ "./components/products/product/buy-button/option/variants/variant/index.jsx":
/*!**********************************************************************************!*\
  !*** ./components/products/product/buy-button/option/variants/variant/index.jsx ***!
  \**********************************************************************************/
/*! exports provided: ProductVariant */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProductVariant\", function() { return ProductVariant; });\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _state_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_state/context */ \"./components/products/product/buy-button/option/_state/context.js\");\n/* harmony import */ var _shop_state_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../shop/_state/context */ \"./components/shop/_state/context.js\");\n/* harmony import */ var _state_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_state/context */ \"./components/products/product/buy-button/_state/context.js\");\n/* harmony import */ var _state_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../_state/context */ \"./components/products/product/_state/context.js\");\n/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/find */ \"./node_modules/lodash/find.js\");\n/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/isEmpty */ \"./node_modules/lodash/isEmpty.js\");\n/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../../common/utils */ \"./common/utils/index.js\");\n\n\n\n\n\n\n\n\n\n\nfunction ProductVariant(_ref) {\n  var variant = _ref.variant;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(true),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),\n      isSelectable = _useState2[0],\n      setIsSelectable = _useState2[1];\n\n  var isFirstRender = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useRef\"])(true);\n\n  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useContext\"])(_shop_state_context__WEBPACK_IMPORTED_MODULE_3__[\"ShopContext\"]),\n      _useContext2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useContext, 2),\n      shopState = _useContext2[0],\n      shopDispatch = _useContext2[1];\n\n  var _useContext3 = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useContext\"])(_state_context__WEBPACK_IMPORTED_MODULE_2__[\"ProductOptionContext\"]),\n      _useContext4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useContext3, 2),\n      productOptionState = _useContext4[0],\n      productOptionDispatch = _useContext4[1];\n\n  var _useContext5 = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useContext\"])(_state_context__WEBPACK_IMPORTED_MODULE_4__[\"ProductBuyButtonContext\"]),\n      _useContext6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useContext5, 2),\n      buyButtonState = _useContext6[0],\n      buyButtonDispatch = _useContext6[1];\n\n  var _useContext7 = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useContext\"])(_state_context__WEBPACK_IMPORTED_MODULE_5__[\"ProductContext\"]),\n      _useContext8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useContext7, 2),\n      productState = _useContext8[0],\n      productDispatch = _useContext8[1];\n\n  function onVariantSelection() {\n    var selectedVariant = Object(_common_utils__WEBPACK_IMPORTED_MODULE_8__[\"createObj\"])(productOptionState.option.name, variant.value); // setSelectedOptions(optionsUpdated);\n\n    buyButtonDispatch({\n      type: 'UPDATE_SELECTED_OPTIONS',\n      payload: selectedVariant\n    });\n    productDispatch({\n      type: 'TOGGLE_DROPDOWN',\n      payload: false\n    });\n    productOptionDispatch({\n      type: 'TOGGLE_DROPDOWN',\n      payload: false\n    });\n    productOptionDispatch({\n      type: 'SET_IS_OPTION_SELECTED',\n      payload: true\n    });\n    productOptionDispatch({\n      type: 'SET_SELECTED_OPTION',\n      payload: selectedVariant\n    });\n    Object(_common_utils__WEBPACK_IMPORTED_MODULE_8__[\"hasHooks\"])() && wp.hooks.doAction('on.product.variant.selection', selectedVariant, productOptionState);\n  }\n\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n\n    var variantToCheck = Object(_common_utils__WEBPACK_IMPORTED_MODULE_8__[\"createObj\"])(productOptionState.option.name, variant.value);\n    var variantIsSelected = lodash_find__WEBPACK_IMPORTED_MODULE_6___default()(buyButtonState.availableVariants, variantToCheck);\n\n    if (variantIsSelected === undefined) {\n      setIsSelectable(false);\n    } else {\n      setIsSelectable(true);\n    }\n  }, [buyButtonState.availableVariants]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n\n    if (lodash_isEmpty__WEBPACK_IMPORTED_MODULE_7___default()(buyButtonState.selectedOptions)) {\n      setIsSelectable(true);\n    }\n  }, [buyButtonState.selectedOptions]);\n  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n    itemProp: \"category\",\n    className: \"wps-product-variant wps-product-style wps-modal-close-trigger\",\n    onClick: onVariantSelection,\n    \"data-wps-is-selectable\": isSelectable\n  }, variant.value);\n}\n\n\n\n//# sourceURL=webpack://wpshopifyComponents/./components/products/product/buy-button/option/variants/variant/index.jsx?");

/***/ })

}]);